{"version":3,"sources":["webpack:///./src/components/Counter/index.js","webpack:///./src/components/caption/index.js","webpack:///./src/redux/store/index.js","webpack:///./src/redux/lib/create-action-constants.js","webpack:///./src/redux/lib/index.js","webpack:///./src/redux/reducer.js","webpack:///./src/components/caption/style.css","webpack:///ws (ignored)","webpack:///./src/client/index.js","webpack:///./src/redux/modules/counter/index.js"],"names":["counterProps","value","number","onIncrement","func","onDecrement","Counter","propTypes","Caption","caption","props","text","PropTypes","string","configureStore","preloadedState","createActionConstants","getActionName","sep","app","module","action","actions","Object","keys","forEach","e","createReducer","initialState","handlers","reducer","state","hasOwnProperty","type","counter","socket","initSocket","emit","on","payload","store","dispatch","console","log","doIncrement","doDecrement","updateApp","getState","document","getElementById","subscribe","addEventListener","increment","decrement","INCREMENT","DECREMENT","ACTIONS","assign"],"mappings":"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","file":"index.fd951108965e9c00214b.js","sourcesContent":["// Created by snov on 12.02.2017.\r\n//\r\n// Counter react component\r\n//\r\n/////////////////////////////////////////////////////////////////\r\n\r\nimport React, { PropTypes } from 'react';\r\n\r\nconst counterProps = {\r\n  value: PropTypes.number,\r\n  onIncrement: PropTypes.func,\r\n  onDecrement: PropTypes.func\r\n};\r\n\r\nconst Counter = ({ value, onIncrement, onDecrement}) => (\r\n  <div>\r\n    <h1>{value}</h1>\r\n    <button onClick={onIncrement}>+</button>\r\n    <button onClick={onDecrement}>-</button>\r\n  </div>\r\n);\r\n\r\nCounter.propTypes = counterProps;\r\n\r\nexport default Counter;\n\n\n// WEBPACK FOOTER //\n// ./src/components/Counter/index.js","// Created by snov on 01.02.2017.\r\nimport React, { Component } from 'react';\r\nimport styles from './style.css';\r\n\r\nexport default class Caption extends Component {\r\n\r\n  static propTypes = {\r\n    text: React.PropTypes.string\r\n  };\r\n\r\n  static defaultProps = {\r\n    text: 'Caption'\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className={styles.caption}>{this.props.text}\r\n      </div>\r\n    )\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/caption/index.js","// Created by snov on 11.02.2017.\r\n\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from '../reducer';\r\n\r\nconst configureStore = preloadedState => createStore(\r\n  rootReducer,\r\n  preloadedState,\r\n  applyMiddleware(thunk)\r\n);\r\n\r\nexport default configureStore;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/redux/store/index.js","// Created by snov on 12.02.2017.\r\n//\r\n// Generates action constants by app/module/CONSTANT convention\r\n// https://github.com/erikras/ducks-modular-redux\r\n//\r\n/////////////////////////////////////////////////////////////////\r\n\r\nconst getActionName = (sep, app, module, action) => {\r\n  return app + sep + module + sep + action;\r\n};\r\n\r\nexport default function createActionConstants(app, module, actions) {\r\n  Object.keys(actions).forEach((e) => {\r\n    actions[e] = getActionName('/', app, module, actions[e]);\r\n  });\r\n  return actions;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/redux/lib/create-action-constants.js","// Created by snov on 12.02.2017.\r\n//\r\n// Basic helpers for work with Redux\r\n//\r\n/////////////////////////////////////////////////////////////////\r\n\r\nexport default function createReducer(initialState, handlers) {\r\n  return function reducer(state = initialState, action) {\r\n    if (handlers.hasOwnProperty(action.type)) {\r\n      return handlers[action.type](state, action);\r\n    } else {\r\n      return state;\r\n    }\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/redux/lib/index.js","// Created by snov on 11.02.2017.\r\n//\r\n// Root Application Reducer\r\n//\r\n/////////////////////////////////////////////////////////////////\\\r\n\r\nimport { combineReducers } from 'redux';\r\nimport counter from './modules/counter';\r\n\r\nexport default combineReducers({\r\n  counter\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/redux/reducer.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"caption\":\"caption--w3nRo\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/caption/style.css\n// module id = 133\n// module chunks = 0","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// ws (ignored)\n// module id = 259\n// module chunks = 0","// Created by snov on 27.08.2016.\r\n\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport Caption from '../components/caption';\r\nimport Counter from '../components/Counter';\r\nimport io from 'socket.io-client';\r\n\r\nimport createStore from '../redux/store';\r\nimport { increment, decrement } from '../redux/modules/counter';\r\n\r\nlet socket = null;\r\n\r\nconst initSocket = () => {\r\n  socket = io('');\r\n  socket.emit('client-message', 'Priffki :****');\r\n  socket.on('counter-updated', (payload) => {\r\n    if (payload === 1) {\r\n      store.dispatch(increment())\r\n    } else if (payload === -1) {\r\n      store.dispatch(decrement())\r\n    } else {\r\n      console.log(`Unsupported payload ${payload}`);\r\n    }\r\n  })\r\n};\r\n\r\nconst doIncrement = () => {\r\n  socket.emit('counter-increment');\r\n};\r\n\r\nconst doDecrement = () => {\r\n  socket.emit('counter-decrement');\r\n};\r\n\r\n\r\nconst store = createStore({\r\n  counter: {\r\n    value: 100\r\n  }\r\n});\r\n\r\nconst updateApp = () => {\r\n  render(\r\n    <div>\r\n      <Caption text=\"OPA OPA OPA PA\"/>\r\n      <Counter value={store.getState().counter.value}\r\n               onIncrement={() => { doIncrement(); }}\r\n               onDecrement={() => { doDecrement(); }}\r\n      />\r\n    </div>,\r\n    document.getElementById('app')\r\n  );\r\n};\r\n\r\nstore.subscribe(updateApp);\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  initSocket();\r\n  updateApp();\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/client/index.js","// Created by snov on 12.02.2017.\r\n//\r\n// Counter module\r\n//\r\n/////////////////////////////////////////////////////////////////\r\n\r\nimport createActionConstants from '../../lib/create-action-constants';\r\nimport createReducer from '../../lib';\r\n\r\n/////////////////////////////////////////////////////////////////\r\n// Actions definition\r\nconst INCREMENT = 'INCREMENT';\r\nconst DECREMENT = 'DECREMENT';\r\n\r\nconst ACTIONS = createActionConstants(\r\n  'osnova-react-environment', 'counter',\r\n  {\r\n    INCREMENT, DECREMENT\r\n  }\r\n);\r\n\r\n/////////////////////////////////////////////////////////////////\r\n// Action creators\r\nexport function increment(value = 1) {\r\n  return {\r\n    type: ACTIONS[INCREMENT],\r\n    value\r\n  }\r\n}\r\n\r\nexport function decrement(value = 1) {\r\n  return {\r\n    type: ACTIONS[DECREMENT],\r\n    value\r\n  }\r\n}\r\n\r\n/////////////////////////////////////////////////////////////////\r\n// Reducer\r\nexport default createReducer({value: 0}, {\r\n\r\n  [ACTIONS.INCREMENT](state, action) {\r\n    return Object.assign({}, state, { value: state.value + action.value });\r\n  },\r\n\r\n  [ACTIONS.DECREMENT](state, action) {\r\n    return Object.assign({}, state, { value: state.value - action.value });\r\n  }\r\n\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/redux/modules/counter/index.js"],"sourceRoot":""}